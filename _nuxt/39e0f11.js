(window.webpackJsonp=window.webpackJsonp||[]).push([[12,95],{369:function(t,e,n){"use strict";function r(t,e,n,r){var o,d=!1,c=0;function l(){o&&clearTimeout(o)}function m(){for(var m=arguments.length,f=new Array(m),h=0;h<m;h++)f[h]=arguments[h];var v=this,w=Date.now()-c;function k(){c=Date.now(),n.apply(v,f)}function x(){o=void 0}d||(r&&!o&&k(),l(),void 0===r&&w>t?k():!0!==e&&(o=setTimeout(r?x:k,void 0===r?t-w:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),m.cancel=function(){l(),d=!0},m}function o(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}))},395:function(t,e,n){var content=n(465);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("16c28c25",content,!0,{sourceMap:!1})},409:function(t,e,n){"use strict";n.r(e);n(55),n(50),n(67),n(20),n(76);var r=n(12),o=n(10),d=(n(66),n(21),n(56),n(35),n(43),n(39),n(51),n(369)),c=n(431),l=n(2),m=n(83);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=l.default.extend({props:["app","state","id"],components:{ExplanatoryCheckbox:c.default},data:function(){return{appAuthorName:"",gettingLink:!1,appDescription:"",showOptions:!1,loadImmediately:!1,adding:!1,removing:!1,debouncedUpdateAppDescription:function(){},debouncedUpdateLoadImmediately:function(){}}},mounted:function(){var t=this;t.$fire.firestore.doc("users/".concat(t.app.author,"/apps/author")).get().then((function(e){t.appAuthorName=e.exists?e.data().name:""}))},watch:{state:function(t,e){var n=this;n.adding=!1,n.removing=!1,"added"===t&&n.$fire.firestore.doc("tags/".concat(n.swinkId,"/apps/").concat(n.id)).get().then((function(t){if(t.exists){var data=t.data();n.appDescription=data.description||"",n.loadImmediately=!!data.loadImmediately}}))},appDescription:function(t,e){null!=t&&this.debouncedUpdateAppDescription()},loadImmediately:function(t,e){null!=t&&this.debouncedUpdateLoadImmediately()}},computed:h(h({},Object(m.c)({swinkId:function(t){return t.swink.swink.metadata.id},isData:function(t){return!t.swink.swink.tag.redirect}})),{},{appAuthorNameHtml:function(){return"swink"===this.appAuthorName?'<span style="color: mediumvioletred">sw</span><span style="color: darkorchid">ink</span>':this.appAuthorName},addButtonText:function(){return this.adding?"Adding...":"Add to Swink"},removeButtonText:function(){return this.removing?"Removing...":"Remove"},buttonText:function(){return this.adding?"Adding...":this.removing?"Removing...":"added"===this.state?"Remove":(this.state,"Add to Swink")},link:function(){return this.app.setupLink.replace("${swinkId}",this.swinkId)}}),created:function(){var t=this;t.debouncedUpdateAppDescription=Object(d.a)(1e3,(function(){t.$fire.firestore.doc("tags/".concat(t.swinkId,"/swinkApps/").concat(t.id)).update({description:t.appDescription})}))},methods:{add:function(){this.adding=!0,this.$emit("add-remove",this.id)},remove:function(){this.removing=!0,this.$emit("add-remove",this.id)},setup:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,data,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).gettingLink=!0,r=n.$fire.functions.httpsCallable("generateAppSetupLink"),e.next=5,r({qrId:n.swinkId,appId:n.id});case 5:o=e.sent,data=o.data,n.gettingLink=!1,(link=document.createElement("a")).href=data,link.target="_blank",link.click();case 12:case"end":return e.stop()}}),e)})))()}}}),w=(n(464),n(75)),component=Object(w.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transition transition-all p-4 mb-2 rounded border hover:bg-gray-100",class:"added"===t.state?"bg-blue-50 bg-opacity-50 border-blue-100":"border-transparent appCard"},[n("div",{staticClass:"flex items-baseline"},[n("div",{staticStyle:{overflow:"hidden"}},[n("h6",{staticClass:"appTitle font-medium"},[t._v(t._s(t.app.name))])]),t._v(" "),n("div",{staticClass:"flex ml-auto items-center"},["unadded"===t.state?n("button",{staticClass:"\n          flex flex-row\n          rounded\n          p-1\n          text-blue-800\n          transition transition-all\n          hover:bg-blue-100\n          text-xs\n          disabled:text-gray-500\n          items-center\n          disabled:bg-gray-100\n        ",attrs:{disabled:t.adding||t.removing||!t.isData},on:{click:t.add}},[t.adding||t.removing?n("svg",{staticClass:"animate-spin h-3 w-3 ml-1 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t._v(" "),n("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]):n("svg",{staticClass:"h-4 w-4 mr-1",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})]),t._v(" "),n("span",{staticClass:"hidden md:block"},[t._v(t._s(t.addButtonText))])]):n("button",{staticClass:"\n          rounded\n          p-1\n          text-red-800\n          transition transition-all\n          hover:text-red-600\n          text-xs\n          disabled:text-gray-500 disabled:bg-gray-100\n          flex flex-row\n          items-center\n          mr-1\n        ",attrs:{disabled:t.adding||t.removing||!t.isData},on:{click:t.remove}},[t.adding||t.removing?n("svg",{staticClass:"animate-spin h-3 w-3 ml-1 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t._v(" "),n("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]):n("svg",{staticClass:"h-4 w-4 mr-1",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 12H6"}})]),t._v(" "),n("span",{staticClass:"hidden md:block"},[t._v(t._s(t.removeButtonText))])]),t._v(" "),"added"===t.state&&t.app.setupLink&&-1!==t.app.setupLink.indexOf("${token}")?n("button",{staticClass:"flex items-center ml-2",attrs:{disabled:t.gettingLink},on:{click:t.setup}},[t._v("\n        "+t._s(t.gettingLink?"Getting link...":"Setup / Manage")+"\n        "),n("i",{staticClass:"fas fa-external-link-alt ml-1",staticStyle:{"font-size":"85%"}})]):t._e()])]),t._v(" "),t.appAuthorName?n("small",[t._v("By: "),n("span",{domProps:{innerHTML:t._s(t.appAuthorNameHtml)}})]):t._e(),t._v(" "),n("p",{staticClass:"mb-0 text-sm"},[t._v(t._s(t.app.description))])])}),[],!1,null,"9dc4f3a8",null);e.default=component.exports},431:function(t,e,n){"use strict";n.r(e);var r={model:{prop:"checked",event:"change"},props:["checked"],data:function(){return{id:""}},mounted:function(){this.id=this._uid}},o=n(75),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"\n    flex\n    items-center\n    p-2\n    alert\n    mt-0\n    mb-0\n    w-full\n    transition transition-all\n    rounded\n  ",class:t.checked?"bg-blue-100 border border-blue-200":"bg-white border border-transparent"},[n("input",{staticClass:"pl-2 pr-3",attrs:{type:"checkbox",id:t.id},domProps:{checked:t.checked},on:{change:function(e){return t.$emit("change",e.target.checked)}}}),t._v(" "),n("label",{staticClass:"cursor-pointer ml-2",attrs:{for:t.id}},[n("div",{staticClass:"flex items-center"},[t._t("title")],2),t._v(" "),t._t("description")],2),t._v(" "),t._t("belowLabel")],2)}),[],!1,null,null,null);e.default=component.exports},464:function(t,e,n){"use strict";n(395)},465:function(t,e,n){var r=n(64)((function(i){return i[1]}));r.push([t.i,".btn-sm[data-v-9dc4f3a8]{\n  padding:.05rem .5rem\n}\n.appTitle[data-v-9dc4f3a8]{\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  overflow:hidden;\n  margin-bottom:0\n}\n.added[data-v-9dc4f3a8]{\n  background-color:rgb(247 251 255);\n  border:1px solid rgb(151 201 255);\n  box-shadow:none\n}",""]),r.locals={},t.exports=r}}]);