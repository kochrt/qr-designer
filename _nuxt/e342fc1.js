(window.webpackJsonp=window.webpackJsonp||[]).push([[24,98,101],{369:function(t,e,n){"use strict";function r(t,e,n,r){var o,c=!1,l=0;function d(){o&&clearTimeout(o)}function f(){for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];var m=this,x=Date.now()-l;function w(){l=Date.now(),n.apply(m,h)}function C(){o=void 0}c||(r&&!o&&w(),d(),void 0===r&&x>t?w():!0!==e&&(o=setTimeout(r?C:w,void 0===r?t-x:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),f.cancel=function(){d(),c=!0},f}function o(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}))},370:function(t,e,n){"use strict";n.r(e);var r=n(371),o=n.n(r);for(var c in r)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e.default=o.a},371:function(t,e){},376:function(t,e,n){"use strict";var r=n(4),o=n(84).findIndex,c=n(100),l=n(68),d="findIndex",f=!0,h=l(d);d in[]&&Array(1).findIndex((function(){f=!1})),r({target:"Array",proto:!0,forced:f||!h},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(d)},378:function(t,e,n){var content=n(398);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("c4bfef5c",content,!0,{sourceMap:!1})},382:function(t,e,n){"use strict";n.r(e);var r=n(401),o=n(370);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n(397);var l=n(75),component=Object(l.a)(o.default,r.a,r.b,!1,null,"313a6cb5",null);e.default=component.exports},397:function(t,e,n){"use strict";n(378)},398:function(t,e,n){var r=n(64)((function(i){return i[1]}));r.push([t.i,'@media (max-width:576px){\n.smallGone[data-v-313a6cb5]{\n    display:none\n}\n}\nh1[data-v-313a6cb5],h2[data-v-313a6cb5],h3[data-v-313a6cb5],h4[data-v-313a6cb5],h5[data-v-313a6cb5],h6[data-v-313a6cb5]{\n  font-family:"Poppins",sans-serif\n}\n.header[data-v-313a6cb5]{\n  display:flex;\n  flex-wrap:nowrap;\n  align-items:center\n}\n.companyName[data-v-313a6cb5]{\n  flex-shrink:0\n}\n.makeSwinkButton[data-v-313a6cb5]{\n  transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease-in-out;\n  color:#c71585\n}\n.makeSwinkButton[data-v-313a6cb5]:hover{\n  color:#9932cc\n}\n.breadCrumbWrapper[data-v-313a6cb5]{\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  overflow:hidden\n}\n.logo[data-v-313a6cb5]{\n  width:2.5rem;\n  height:2.5rem\n}\n.title[data-v-313a6cb5]{\n  margin:0 0 0 .5rem\n}\n.title[data-v-313a6cb5],a[data-v-313a6cb5]:hover{\n  text-decoration:none\n}\na[data-v-313a6cb5]:hover{\n  color:#343a40\n}\n.buttonGroup[data-v-313a6cb5]{\n  flex-shrink:0\n}',""]),r.locals={},t.exports=r},401:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"header flex flex-row"})])}]},480:function(t,e,n){var content=n(545);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("dcff823c",content,!0,{sourceMap:!1})},544:function(t,e,n){"use strict";n(480)},545:function(t,e,n){var r=n(64)((function(i){return i[1]}));r.push([t.i,".fade-out-leave-active{\n  transition:opacity 5s\n}\n.fade-out-leave{\n  opacity:1\n}\n.fade-out-enter,.fade-out-leave-to{\n  opacity:0\n}",""]),r.locals={},t.exports=r},554:function(t,e,n){"use strict";n.r(e);var r=n(369),o=n(2),c={props:["state"],data:function(){return{status:this.state,transition:"instant"}},watch:{state:function(t,e){"done"===this.status&&(this.transition="instant"),this.status=t,"saved"===this.status&&this.dismiss()}},created:function(){this.dismiss=Object(r.a)(2e4,(function(){var t=this;this.transition="fade-out",o.default.nextTick((function(){t.status="done"}))}))}},l=(n(544),n(75)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["loading"===t.status?n("div",{staticStyle:{position:"relative"}},[t._m(0)]):t._e(),t._v(" "),n("transition",{attrs:{name:t.transition}},["saved"===t.status?n("div",{staticStyle:{position:"relative"}},[n("i",{staticClass:"fas fa-check text-primary",staticStyle:{"font-size":"x-small",position:"absolute",top:"0.3rem",left:"0.3rem"},attrs:{"aria-hidden":"true"}})]):t._e()])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-border ml-1 text-muted",staticStyle:{width:"0.7rem",height:"0.7rem","border-width":"0.15rem",position:"absolute",top:"0.3rem",left:"0.2rem"},attrs:{"data-v-3be30238":"",role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],!1,null,null,null);e.default=component.exports},671:function(t,e,n){var content=n(703);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("3832b7f0",content,!0,{sourceMap:!1})},702:function(t,e,n){"use strict";n(671)},703:function(t,e,n){var r=n(64)((function(i){return i[1]}));r.push([t.i,".mainCard[data-v-4936aaa4]{\n  border:none;\n  border-radius:.35rem;\n  box-shadow:0 3px 11px 1px rgba(133,132,167,.1803921568627451)\n}\n.nameInput[data-v-4936aaa4]{\n  margin-left:-.5rem;\n  border:none;\n  font-size:larger\n}",""]),r.locals={},t.exports=r},767:function(t,e,n){"use strict";n.r(e);var r=n(12),o=(n(56),n(21),n(20),n(376),n(69),n(66),n(382)),c=n(369),l=n(554),d={components:{Header:o.default,LoadingToCheckmark:l.default},props:{qrId:String,LoadingToCheckmark:l.default},data:function(){return{queue:[],name:"Check in",allowedToSeeOthers:!0,status:"done"}},watch:{name:function(t,e){this.debouncedUpdateMetadata()},allowedToSeeOthers:function(t,e){this.debouncedUpdateMetadata()}},created:function(){var t=this;this.debouncedUpdateMetadata=Object(c.a)(500,(function(){t.updateMetadata()}))},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t).setCurrentQr(),n.setCurrentApp(),n.startListening();case 4:case"end":return e.stop()}}),e)})))()},computed:{appId:function(){return"9h0DvNYgJguLOr3rP63C"},tagPath:function(){return"tags/".concat(this.qrId)},appPath:function(){return"".concat(this.tagPath,"/apps/").concat(this.appId)},collectionPath:function(){return"".concat(this.appPath,"/queue")}},methods:{updateMetadata:function(){var t=this,e={name:t.name||"Check in",allowedToSeeOthers:t.allowedToSeeOthers};t.status="loading",t.$fire.firestore.doc(this.appPath).update(e).then((function(){t.status="saved"}))},setCurrentQr:function(){var t=this;t.$store.state.currentQr&&t.$store.state.currentQr.id===t.qrId||t.$fire.firestore.doc(t.tagPath).get().then((function(e){if(e.exists){var data=e.data();data.id=e.id,t.$store.commit("setCurrentQr",data)}}))},setCurrentApp:function(){var t=this;t.$store.state.currentApp&&t.$store.state.currentApp.path===t.appPath||t.$fire.firestore.doc(t.appPath).get().then((function(e){if(e.exists){var data=e.data();data.id=e.id,data.appPath=t.appPath,t.name=data.name||"Check in",t.allowedToSeeOthers=data.allowedToSeeOthers||!0,t.$store.commit("setCurrentApp",data)}}))},startListening:function(){var t=this;t.$fire.firestore.collection(t.collectionPath).orderBy("timestamp","asc").onSnapshot((function(e){e.docChanges().forEach((function(e){var n=e.doc.data();if(n.id=e.doc.id,"added"===e.type)t.queue.push(n);else if("removed"===e.type){var r=t.queue.findIndex((function(t){return t.id===n.id}));t.queue.splice(r,1)}}))}))},next:function(){var t=this;0!==t.queue.length&&t.$fire.firestore.collection(t.collectionPath).doc(t.queue[0].id).delete()},served:function(t){this.$fire.firestore.collection(this.collectionPath).doc(t).delete()}}},f=(n(702),n(75)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid px-2",staticStyle:{"max-width":"1200px"}},[n("Header",{staticClass:"py-4 md:px-8 px-4",attrs:{showLogin:!0}}),t._v(" "),n("div",{staticClass:"p-3 card mainCard mt-3"},[n("div",{staticClass:"flex flex-row"},[n("div",[n("div",[n("div",{staticClass:"flex "},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control form-control-sm nameInput bg-gray-50",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("div",{staticClass:"p-2"},[n("loading-to-checkmark",{attrs:{state:t.status}})],1)]),t._v(" "),n("div",{staticClass:"form-check py-1"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.allowedToSeeOthers,expression:"allowedToSeeOthers"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"allowedToSeeOthersCheckbox"},domProps:{checked:Array.isArray(t.allowedToSeeOthers)?t._i(t.allowedToSeeOthers,null)>-1:t.allowedToSeeOthers},on:{change:function(e){var n=t.allowedToSeeOthers,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t._i(n,null);r.checked?c<0&&(t.allowedToSeeOthers=n.concat([null])):c>-1&&(t.allowedToSeeOthers=n.slice(0,c).concat(n.slice(c+1)))}else t.allowedToSeeOthers=o}}}),t._v(" "),n("label",{staticClass:"form-check-label text-secondary",attrs:{for:"allowedToSeeOthersCheckbox"}},[t._v("Let scanners see the names of others who have checked in")])])]),t._v(" "),n("p",{staticClass:"mb-2"},[t._v("Current queue: "+t._s(t.queue.length))])]),t._v(" "),n("div",{staticClass:"flex ",staticStyle:{"flex-grow":"1","justify-content":"flex-end","align-items":"center"}},[n("button",{staticClass:"btn btn-sm btn-primary",attrs:{disabled:0===t.queue.length},on:{click:function(e){return t.next()}}},[t._v("\n           Next \n        ")])])]),t._v(" "),n("ul",{staticClass:"list-group"},t._l(t.queue,(function(e,r){return n("li",{key:e.id,staticClass:"list-group-item px-3 py-2 flex items-center"},[n(0===r?"strong":"span",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(r+1)+". "+t._s(e.name))]),t._v(" "),n("button",{staticClass:"ml-2 btn btn-sm btn-outline-danger",on:{click:function(n){return t.served(e.id)}}},[n("i",{staticClass:"far fa-trash-alt"})])])})),0)])],1)}),[],!1,null,"4936aaa4",null);e.default=component.exports;installComponents(component,{Header:n(382).default,LoadingToCheckmark:n(554).default})}}]);