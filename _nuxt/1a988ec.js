(window.webpackJsonp=window.webpackJsonp||[]).push([[39,38,71,110],{357:function(e,t,n){"use strict";n.r(t);var r={name:"TransitionExpand",functional:!0,render:function(e,t){return e("transition",{props:{name:"expand"},on:{afterEnter:function(element){element.style.height="auto"},enter:function(element){var e=getComputedStyle(element).width;element.style.width=e,element.style.position="absolute",element.style.visibility="hidden",element.style.height="auto";var t=getComputedStyle(element).height;element.style.width=null,element.style.position=null,element.style.visibility=null,element.style.height=0,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=t}))},leave:function(element){var e=getComputedStyle(element).height;element.style.height=e,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=0}))}}},t.children)}},o=(n(361),n(363),n(75)),component=Object(o.a)(r,undefined,undefined,!1,null,"3defa20d",null);t.default=component.exports},358:function(e,t,n){var content=n(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("718ee36c",content,!0,{sourceMap:!1})},359:function(e,t,n){var content=n(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("27ddb0fa",content,!0,{sourceMap:!1})},361:function(e,t,n){"use strict";n(358)},362:function(e,t,n){var r=n(64)((function(i){return i[1]}));r.push([e.i,"*[data-v-3defa20d]{\n  will-change:height;\n  transform:translateZ(0);\n  -webkit-backface-visibility:hidden;\n          backface-visibility:hidden;\n  perspective:1000px\n}",""]),r.locals={},e.exports=r},363:function(e,t,n){"use strict";n(359)},364:function(e,t,n){var r=n(64)((function(i){return i[1]}));r.push([e.i,".expand-enter-active,.expand-leave-active{\n  transition:height .3s cubic-bezier(.46,.03,.52,.96);\n  overflow:hidden\n}\n.expand-enter,.expand-leave-to{\n  height:0\n}",""]),r.locals={},e.exports=r},390:function(e,t,n){"use strict";n.r(t);var r=n(357),o=n(2),l=n(405),d=o.default.extend({components:{GlyphImage:l.default,TransitionExpand:r.default},props:["imageAdded"],data:function(){return{glyphListLeft:[],glyphListRight:[]}},watch:{imageAdded:function(e){var t=this,n=new FileReader;n.addEventListener("load",(function(e){var n,r;t.glyphListLeft.length<=t.glyphListRight.length?t.glyphListLeft.push(null===(n=e.target)||void 0===n?void 0:n.result):t.glyphListRight.push(null===(r=e.target)||void 0===r?void 0:r.result)})),n.readAsDataURL(e.raw)}}}),c=n(75),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"overflow-auto flex flex-row"},[n("div",{staticClass:"flex flex-col max-w-1/2 items-center mr-1"},e._l(e.glyphListLeft,(function(glyph){return n("glyph-image",{key:glyph,attrs:{glyph:glyph}})})),1),e._v(" "),n("div",{staticClass:"flex flex-col max-w-1/2 items-center"},e._l(e.glyphListRight,(function(glyph){return n("glyph-image",{key:glyph,attrs:{glyph:glyph}})})),1)])])}),[],!1,null,null,null);t.default=component.exports},392:function(e,t,n){var content=n(459);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("4b8cc66c",content,!0,{sourceMap:!1})},405:function(e,t,n){"use strict";n.r(t);const r={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:,"},srcset:{type:String},intersectionOptions:{type:Object,default:()=>({})},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,data:()=>({observer:null,intersected:!1,loaded:!1}),computed:{srcImage(){return this.intersected&&this.src?this.src:this.srcPlaceholder},srcsetImage(){return!(!this.intersected||!this.srcset)&&this.srcset}},methods:{load(){this.$el.getAttribute("src")!==this.srcPlaceholder&&(this.loaded=!0,this.$emit("load"))},error(){this.$emit("error",this.$el)}},render(e){let t=e("img",{attrs:{src:this.srcImage,srcset:this.srcsetImage},domProps:this.$attrs,class:{"v-lazy-image":!0,"v-lazy-image-loaded":this.loaded},on:{load:this.load,error:this.error}});return this.usePicture?e("picture",{on:{load:this.load}},this.intersected?[this.$slots.default,t]:[t]):t},mounted(){"IntersectionObserver"in window&&(this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.intersected=!0,this.observer.disconnect(),this.$emit("intersect"))}),this.intersectionOptions),this.observer.observe(this.$el))},destroyed(){"IntersectionObserver"in window&&this.observer.disconnect()}};var o=n(2).default.extend({components:{VLazyImage:r},props:["glyph"],data:function(){return{hovering:!1,selected:!1}},methods:{dragStart:function(e){this.glyph&&this.$store.commit("designMeta/setDraggingItem",this.draggingItemFromEvent(e))},draggingItemFromEvent:function(e){var t=e.target;return{type:"image",data:{url:t.src,width:t.width,height:t.height},offsetX:e.offsetX,offsetY:e.offsetY}}}}),l=n(75),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"relative",on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[n("div",{staticClass:"\n        absolute\n        top-0\n        left-0\n        right-0\n        bottom-0\n        bg-purple-100\n        transition\n        pointer-events-none\n      ",class:{"opacity-50":e.selected,"opacity-0":!e.selected}}),e._v(" "),n("img",{staticClass:"mb-1 cursor-move border border-gray-300 border-dashed",attrs:{loading:"lazy",draggable:"true",src:e.glyph},on:{dragstart:e.dragStart}})])])}),[],!1,null,null,null);t.default=component.exports},407:function(e,t,n){"use strict";n.r(t);var r=n(12),o=(n(66),n(2)),l=n(390),d=o.default.extend({components:{DesignImageList:l.default},data:function(){return{headers:{},imageAdded:null}},methods:{getHeaders:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.auth.currentUser.getIdToken();case 2:n=t.sent,e.headers={Authorization:"Bearer ".concat(n)};case 4:case"end":return t.stop()}}),t)})))()},onProgress:function(a,b){console.log(a,b)},onChange:function(e){this.imageAdded=e}},computed:{uploadUrl:function(){return"".concat(this.$config.apiPath,"/function/design/glyph")}}}),c=(n(458),n(75)),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-row flex-wrap mx-1 my-2 designImages"},[n("el-upload",{staticClass:"w-full mb-2",attrs:{drag:"",action:"",headers:e.headers,"on-change":e.onChange,accept:"image/png, image/jpeg","auto-upload":!1,"show-file-list":!1}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text m-2"},[n("p",[e._v("\n        Drop file here or\n        "),n("em",[e._v("click to upload.")]),n("br"),e._v(" "),n("span",{staticClass:"text-gray-400 font-bold"},[e._v("PNG with transparent background is best.")])]),e._v(" "),n("div",{staticClass:"flex flex-row items-center justify-center mt-2"},[n("div",{staticClass:"px-2 py-1 rounded bg-gray-100 text-xs mr-2 font-mono"},[e._v("\n          jpg/png\n        ")]),e._v(" "),n("div",{staticClass:"px-2 py-1 rounded bg-gray-100 text-xs mr-2 font-mono"},[e._v("\n          <5Mb\n        ")])])])]),e._v(" "),n("design-image-list",{attrs:{imageAdded:e.imageAdded}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{DesignImageList:n(390).default})},458:function(e,t,n){"use strict";n(392)},459:function(e,t,n){var r=n(64)((function(i){return i[1]}));r.push([e.i,".designImages .el-upload{\n  display:block\n}\n.designImages .el-upload-dragger{\n  width:100%;\n  height:auto\n}",""]),r.locals={},e.exports=r}}]);