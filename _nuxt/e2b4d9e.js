(window.webpackJsonp=window.webpackJsonp||[]).push([[5,13,16,17,19,107,110],{357:function(t,n,e){"use strict";e.r(n);var r={name:"TransitionExpand",functional:!0,render:function(t,n){return t("transition",{props:{name:"expand"},on:{afterEnter:function(element){element.style.height="auto"},enter:function(element){var t=getComputedStyle(element).width;element.style.width=t,element.style.position="absolute",element.style.visibility="hidden",element.style.height="auto";var n=getComputedStyle(element).height;element.style.width=null,element.style.position=null,element.style.visibility=null,element.style.height=0,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=n}))},leave:function(element){var t=getComputedStyle(element).height;element.style.height=t,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=0}))}}},n.children)}},o=(e(361),e(363),e(75)),component=Object(o.a)(r,undefined,undefined,!1,null,"3defa20d",null);n.default=component.exports},358:function(t,n,e){var content=e(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("718ee36c",content,!0,{sourceMap:!1})},359:function(t,n,e){var content=e(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("27ddb0fa",content,!0,{sourceMap:!1})},361:function(t,n,e){"use strict";e(358)},362:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,"*[data-v-3defa20d]{\n  will-change:height;\n  transform:translateZ(0);\n  -webkit-backface-visibility:hidden;\n          backface-visibility:hidden;\n  perspective:1000px\n}",""]),r.locals={},t.exports=r},363:function(t,n,e){"use strict";e(359)},364:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,".expand-enter-active,.expand-leave-active{\n  transition:height .3s cubic-bezier(.46,.03,.52,.96);\n  overflow:hidden\n}\n.expand-enter,.expand-leave-to{\n  height:0\n}",""]),r.locals={},t.exports=r},376:function(t,n,e){"use strict";var r=e(4),o=e(84).findIndex,l=e(100),c=e(68),d="findIndex",f=!0,h=c(d);d in[]&&Array(1).findIndex((function(){f=!1})),r({target:"Array",proto:!0,forced:f||!h},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),l(d)},481:function(t,n,e){var content=e(548);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("096515fc",content,!0,{sourceMap:!1})},482:function(t,n,e){var content=e(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("f8491b2a",content,!0,{sourceMap:!1})},547:function(t,n,e){"use strict";e(481)},548:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,".scroll-snap-container{\n  display:block;\n  overflow-y:scroll;\n  overflow-x:hidden;\n  --webkit-overflow-scrolling:touch;\n  -ms-scroll-snap-points-y:repeat(100%);\n      scroll-snap-points-y:repeat(100%);\n  -ms-scroll-snap-destination:0 0;\n      scroll-snap-destination:0 0;\n  -ms-scroll-snap-type:y mandatory;\n      scroll-snap-type:y mandatory;\n  -ms-scroll-snap-type:mandatory;\n      scroll-snap-type:mandatory;\n  scroll-behavior:smooth\n}\n.scroll-snap-container.horizontal{\n  display:flex;\n  flex-direction:row;\n  flex-wrap:nowrap;\n  overflow-y:hidden;\n  overflow-x:scroll;\n  -ms-scroll-snap-points-x:repeat(100%);\n      scroll-snap-points-x:repeat(100%);\n  -ms-scroll-snap-type:x mandatory;\n      scroll-snap-type:x mandatory\n}\n.scroll-snap-container.fullscreen{\n  display:flex;\n  flex-direction:column;\n  flex-wrap:nowrap;\n  align-items:stretch;\n  justify-content:flex-start;\n  position:absolute;\n  top:0;\n  bottom:0;\n  left:0;\n  right:0;\n  min-width:100%;\n  min-height:100%\n}\n.scroll-snap-container.fullscreen.horizontal{\n  flex-direction:row\n}\n.scroll-snap-container>*{\n  flex:1 0 100%;\n  scroll-snap-align:start\n}\n.scroll-snap-container.fullscreen>.item{\n  min-height:100%;\n  flex:1\n}\n.scroll-snap-container.horizontal>.item{\n  scroll-snap-align:center\n}\n.scroll-snap-container.fullscreen.horizontal>.item{\n  scroll-snap-align:center;\n  min-width:100%;\n  flex:1\n}",""]),r.locals={},t.exports=r},549:function(t,n,e){var content=e(629);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("9d622a66",content,!0,{sourceMap:!1})},550:function(t,n,e){"use strict";e(482)},551:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,".btn-sm{\n  padding:.05rem .5rem\n}\n.form-check-input[disabled]~.form-check-label{\n  color:#b7c0c7\n}\n.top-rounded{\n  border-top-right-radius:.2rem;\n  border-top-left-radius:.2rem\n}",""]),r.locals={},t.exports=r},552:function(t,n,e){var content=e(631);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("43de88aa",content,!0,{sourceMap:!1})},584:function(t,n,e){"use strict";e.r(n);var r={name:"ScrollSnap",props:{value:{type:String,default:"left"},scrollTo:{type:String,default:"left"},fullscreen:{type:Boolean,default:!1,required:!1},horizontal:{type:Boolean,default:!1,required:!1}},watch:{scrollTo:function(t,n){if("left"===t||"right"===t){var e=this.$refs.scrollSnapContainer;e.scrollTo(e.scrollLeft+e.scrollWidth*("left"===t?-1:1),0)}}},methods:{scrolled:function(t){var n=t.target.getBoundingClientRect(),e=t.target.children[0].getBoundingClientRect(),r=(e.width-(n.left-e.left))/e.width>.5?"left":"right";r!==this.value&&this.$emit("input",r)}}},o=(e(547),e(75)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{ref:"scrollSnapContainer",staticClass:"scroll-snap-container",class:{fullscreen:t.fullscreen,horizontal:t.horizontal},on:{"&scroll":function(n){return t.scrolled(n)}}},[t._t("default")],2)}),[],!1,null,null,null);n.default=component.exports},585:function(t,n,e){"use strict";e.r(n);var r={props:["value","appName"]},o=(e(550),e(75)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{},[e("div",{staticClass:"pt-1 px-3 pb-3"},[e("h6",{staticClass:"text-sm text-gray-900 my-1"},[t._v("\n      Allow "),e("strong",[t._v(t._s(t.appName))]),t._v(" to access my:\n    ")]),t._v(" "),t._l(t.value,(function(n){return e("div",{key:n.name,staticClass:"form-group mb-1"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.active,expression:"grant.active"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:n.name,disabled:!n.available},domProps:{checked:Array.isArray(n.active)?t._i(n.active,null)>-1:n.active},on:{change:function(e){var r=n.active,o=e.target,l=!!o.checked;if(Array.isArray(r)){var c=t._i(r,null);o.checked?c<0&&t.$set(n,"active",r.concat([null])):c>-1&&t.$set(n,"active",r.slice(0,c).concat(r.slice(c+1)))}else t.$set(n,"active",l)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:n.name}},[t._v("\n          "+t._s(n.displayName)+"\n        ")])])])}))],2)])}),[],!1,null,null,null);n.default=component.exports},586:function(t,n,e){"use strict";e.r(n);e(20),e(376),e(69);var r={data:function(){return{profiles:[]}},mounted:function(){this.getProfile()},methods:{getProfile:function(){var t=this;t.$fire.firestore.collection("users/".concat(t.$fire.auth.currentUser.uid,"/profiles")).orderBy("updated","desc").onSnapshot((function(n){n.docChanges().forEach((function(n){var e=n.doc.data();if(e.id=n.doc.id,"added"===n.type)t.profiles.push(e);else{var r=t.profiles.findIndex((function(p){return p.id===e.id}));"removed"===n.type?t.profiles.splice(r,1):"modified"===n.type&&t.profiles.splice(r,1,e)}})),t.loading=!1}))}}},o=e(75),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pt-1 pb-3 px-3"},[t.loading?e("div",{staticClass:"flex flex-col items-center justify-center h-100"},[t._m(0)]):e("div")])}),[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],!1,null,null,null);n.default=component.exports},628:function(t,n,e){"use strict";e(549)},629:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,".cogButton{\n  padding:.35rem .5rem;\n  border-top-right-radius:.2rem;\n  border-bottom-right-radius:.2rem\n}\n.fa-cog{\n  border-top-right-radius:.25rem\n}\n.arrow{\n  height:0;\n  width:0;\n  border-left:8px solid transparent;\n  border-right:8px solid transparent;\n  border-top-width:8px;\n  border-top-style:solid;\n  position:absolute;\n  top:-.8em;\n  left:calc(50% - 5px)\n}\n.grants{\n  padding:.35rem;\n  position:relative\n}\n.inactive-grant{\n  color:#b2bac1\n}\n.button:hover{\n  cursor:pointer\n}",""]),r.locals={},t.exports=r},630:function(t,n,e){"use strict";e(552)},631:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,".underline{\n  height:2px;\n  border-radius:1px;\n  transition:background-color .3s;\n  background-color:transparent\n}\n.underline-showing{\n  background-color:#fff\n}",""]),r.locals={},t.exports=r},636:function(t,n,e){"use strict";e.r(n);var r=e(585),o=e(586),l=e(584),c={components:{Grants:r.default,ScrollSnap:l.default,Profiles:o.default},props:["grants","appName"],data:function(){return{topAreaLeftOrRight:"left",scrollTo:"left"}},watch:{topAreaLeftOrRight:function(t,n){this.scrollTo=""}}},d=(e(630),e(75)),component=Object(d.a)(c,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"bg-gray-100 border-t"},[e("div",[e("grants",{attrs:{appName:t.appName},on:{"create-profile":function(n){t.scrollTo="right"}},model:{value:t.grants,callback:function(n){t.grants=n},expression:"grants"}})],1)])}),[],!1,null,null,null);n.default=component.exports},667:function(t,n,e){var content=e(695);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(65).default)("5e910b57",content,!0,{sourceMap:!1})},675:function(t,n,e){"use strict";e.r(n);var r=e(2).default.extend({props:["grants","colorClass","showingGrants"],methods:{onClick:function(t){this.$emit("click")},grantClass:function(t){var n=t.icon;return t.active||(n+=" inactive-grant"),n}}}),o=(e(628),e(75)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"flex flex-row button",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onClick(n)}}},[e("div",{staticClass:"flex flex-row grants"},[t.showingGrants?e("div",{staticClass:"arrow border-gray-100",class:"arrow-"+t.colorClass}):t._e(),t._v(" "),t._l(t.grants,(function(n){return e("i",{key:n.icon,staticClass:"fas px-1",class:t.grantClass(n)})}))],2),t._v(" "),t._m(0)])}),[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"flex flex-row cogButton"},[n("i",{staticClass:"fas fa-cog"})])}],!1,null,null,null);n.default=component.exports},694:function(t,n,e){"use strict";e(667)},695:function(t,n,e){var r=e(64)((function(i){return i[1]}));r.push([t.i,".appCard[data-v-624942ea]{\n  box-shadow:0 3px 11px 1px rgba(133,132,167,.1803921568627451);\n  transition:border .3s cubic-bezier(.46,.03,.52,.96)\n}\n.loadingShimmer[data-v-624942ea]{\n  -webkit-animation:shimmer-data-v-624942ea 2s linear infinite;\n          animation:shimmer-data-v-624942ea 2s linear infinite;\n  background:linear-gradient(90deg,#fff 4%,#f6f7f8 25%,#fff 36%);\n  background-size:1000px 100%\n}\n@-webkit-keyframes shimmer-data-v-624942ea{\n0%{\n    background-position:-1000px 0\n}\nto{\n    background-position:1000px 0\n}\n}\n@keyframes shimmer-data-v-624942ea{\n0%{\n    background-position:-1000px 0\n}\nto{\n    background-position:1000px 0\n}\n}",""]),r.locals={},t.exports=r},747:function(t,n,e){"use strict";e.r(n);var r=e(675),o=e(2),l=e(357),c=e(636),d=o.default.extend({components:{AppSettingsButton:r.default,TransitionExpand:l.default,AppTopArea:c.default},props:["app","refresh","profiles","url","origin","swinkId","fullscreen","eventBus"],data:function(){return{appCollapsed:!1,topAreaCollapsed:!0,appHeight:"",loading:!0,grants:[{name:"phone",displayName:"Phone number",icon:"fa-phone",active:!0,available:!1},{name:"email",displayName:"Email",icon:"fa-at",active:!1,available:!1},{name:"name",displayName:"Name",icon:"fa-id-badge",active:!0,available:!1}]}},mounted:function(){var t=this,n=this.eventBus;n.$on("token",(function(n){t.postAppToken(n)})),n.$on("height",(function(n){t.appHeight=n}))},watch:{refresh:function(t,n){this.reload()},swinkId:function(t,n){this.reload()},appCollapsed:function(t,n){t||(this.topAreaCollapsed=!0)}},methods:{loaded:function(){this.loading=!1},reload:function(){return!!this.$refs.iframe&&(this.$refs.iframe.src=this.$refs.iframe.src,!0)},toggleTopArea:function(){this.topAreaCollapsed=!this.topAreaCollapsed,this.topAreaCollapsed||(this.appCollapsed=!0)},expandCollapse:function(){this.appCollapsed=!this.appCollapsed},postAppToken:function(t){var n=this;o.default.nextTick((function(){var e;null===(e=n.$refs.iframe.contentWindow)||void 0===e||e.postMessage({type:"appToken",token:t},n.origin)}))}},computed:{height:function(){return this.appHeight||this.app.desiredHeight},description:function(){return this.app.publicDescription||this.app.suggestedPublicDescription||null},randomColorClass:function(){var t=["primary","info","warning","danger","success"];return t[Math.floor(Math.random()*t.length)]}}}),f=(e(694),e(75)),component=Object(f.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"\n    border-l border-r\n    card\n    mb-3\n    flex flex-col\n    bg-white\n    border-blue-100 border-b\n  ",class:t.appCollapsed?"":"border-"+t.randomColorClass},[e("transition-expand",[t.topAreaCollapsed?t._e():e("app-top-area",{attrs:{grants:t.grants,appName:t.app.name}})],1),t._v(" "),e("div",{staticClass:"\n      flex flex-row\n      border-t border-blue-100\n      alpha-50\n      sticky\n      top-0\n      p-3\n      z-10\n      bg-white bg-opacity-50\n      backdrop-filter backdrop-blur-sm\n    ",staticStyle:{cursor:"pointer"},attrs:{id:"appHeader"},on:{click:function(n){return n.preventDefault(),t.expandCollapse(n)}}},[e("div",{staticClass:"flex flex-col"},[e("h1",{staticClass:"text-sm"},[t._v(t._s(t.app.name))]),t._v(" "),e("small",{class:"text-secondary"},[t._v(t._s(t.app.authorInfo.appAuthorName))])]),t._v(" "),e("div",{staticClass:"flex flex-row ml-auto",staticStyle:{"align-items":"center"}},[t.appCollapsed?e("svg",{staticClass:"h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"}})]):e("svg",{staticClass:"h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])]),t._v(" "),t.appCollapsed&&t.description?e("div",{staticClass:"p-3"},[e("p",{staticClass:"text-secondary mb-0"},[t._v(t._s(t.description))])]):t._e(),t._v(" "),e("transition-expand",[t.appCollapsed?t._e():e("div",{},[e("iframe",{ref:"iframe",class:{loadingShimmer:t.loading},style:"height: "+t.height+"px; width: 100%; display: block;",attrs:{id:"appFrame",src:t.url,frameborder:"0",sandbox:"allow-scripts allow-same-origin allow-downloads allow-popups allow-forms allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation",scrolling:"no"},on:{load:t.loaded}})])])],1)}),[],!1,null,"624942ea",null);n.default=component.exports;installComponents(component,{AppTopArea:e(636).default,TransitionExpand:e(357).default})}}]);