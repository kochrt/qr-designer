(window.webpackJsonp=window.webpackJsonp||[]).push([[62,61,106,110],{357:function(e,t,n){"use strict";n.r(t);var o={name:"TransitionExpand",functional:!0,render:function(e,t){return e("transition",{props:{name:"expand"},on:{afterEnter:function(element){element.style.height="auto"},enter:function(element){var e=getComputedStyle(element).width;element.style.width=e,element.style.position="absolute",element.style.visibility="hidden",element.style.height="auto";var t=getComputedStyle(element).height;element.style.width=null,element.style.position=null,element.style.visibility=null,element.style.height=0,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=t}))},leave:function(element){var e=getComputedStyle(element).height;element.style.height=e,getComputedStyle(element).height,requestAnimationFrame((function(){element.style.height=0}))}}},t.children)}},r=(n(361),n(363),n(75)),component=Object(r.a)(o,undefined,undefined,!1,null,"3defa20d",null);t.default=component.exports},358:function(e,t,n){var content=n(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("718ee36c",content,!0,{sourceMap:!1})},359:function(e,t,n){var content=n(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("27ddb0fa",content,!0,{sourceMap:!1})},361:function(e,t,n){"use strict";n(358)},362:function(e,t,n){var o=n(64)((function(i){return i[1]}));o.push([e.i,"*[data-v-3defa20d]{\n  will-change:height;\n  transform:translateZ(0);\n  -webkit-backface-visibility:hidden;\n          backface-visibility:hidden;\n  perspective:1000px\n}",""]),o.locals={},e.exports=o},363:function(e,t,n){"use strict";n(359)},364:function(e,t,n){var o=n(64)((function(i){return i[1]}));o.push([e.i,".expand-enter-active,.expand-leave-active{\n  transition:height .3s cubic-bezier(.46,.03,.52,.96);\n  overflow:hidden\n}\n.expand-enter,.expand-leave-to{\n  height:0\n}",""]),o.locals={},e.exports=o},365:function(e,t,n){var content=n(388);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("5d7752ce",content,!0,{sourceMap:!1})},367:function(e,t,n){"use strict";n.r(t);var o=n(12);n(66),n(30);function r(e){if("undefined"!=typeof ResizeObserver)return new ResizeObserver((function(t){return t.map(e)}))}var l={name:"ScrollShadow",data:function(){return{width:void 0,height:void 0,shadow:{top:!1,right:!1,bottom:!1,left:!1}}},mounted:function(){var e=r(this.toggleShadow);e&&(e.observe(this.$refs.scrollContainer),this.$once("hook:destroyed",(function(){return e.disconnect()})));var t=r(this.calcDimensions);t&&(t.observe(this.$el),this.$once("hook:destroyed",(function(){return t.disconnect()})))},methods:{calcDimensions:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.width=void 0,e.height=void 0,t.next=4,e.$nextTick();case 4:e.width="".concat(e.$el.clientWidth,"px"),e.height="".concat(e.$el.clientHeight,"px");case 6:case"end":return t.stop()}}),t)})))()},toggleShadow:function(){var e=this.$refs.scrollContainer.clientWidth<this.$refs.scrollContainer.scrollWidth,t=this.$refs.scrollContainer.clientHeight<this.$refs.scrollContainer.scrollHeight,n=this.$refs.scrollContainer.offsetWidth+this.$refs.scrollContainer.scrollLeft,o=this.$refs.scrollContainer.offsetHeight+this.$refs.scrollContainer.scrollTop,r=0===this.$refs.scrollContainer.scrollTop,l=n>=this.$refs.scrollContainer.scrollWidth,c=o>=this.$refs.scrollContainer.scrollHeight,d=0===this.$refs.scrollContainer.scrollLeft;this.shadow.top=t&&!r,this.shadow.right=e&&!l,this.shadow.bottom=t&&!c,this.shadow.left=e&&!d}}},c=n(387),d=n(75);var component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.wrap},[n("div",{ref:"scrollContainer",class:e.$style["scroll-container"],style:{width:e.width,height:e.height},on:{"&scroll":function(t){return e.toggleShadow(t)}}},[e._t("default"),e._v(" "),n("span",{class:[e.$style["shadow-top"],e.shadow.top&&e.$style["is-active"]]}),e._v(" "),n("span",{class:[e.$style["shadow-right"],e.shadow.right&&e.$style["is-active"]]}),e._v(" "),n("span",{class:[e.$style["shadow-bottom"],e.shadow.bottom&&e.$style["is-active"]]}),e._v(" "),n("span",{class:[e.$style["shadow-left"],e.shadow.left&&e.$style["is-active"]]})],2)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.default=component.exports},387:function(e,t,n){"use strict";var o=n(365),r=n.n(o);n.d(t,"default",(function(){return r.a}))},388:function(e,t,n){var o=n(64)((function(i){return i[1]}));o.push([e.i,".wrap_2Uv_z{\n  overflow:hidden;\n  position:relative\n}\n.scroll-container_1Jkja{\n  overflow:auto\n}\n.scroll-container_1Jkja::-webkit-scrollbar{\n  display:none\n}\n.shadow-bottom_3UMg3,.shadow-left_1DAVm,.shadow-right_1mwbi,.shadow-top_36mCx{\n  position:absolute;\n  border-radius:6em;\n  opacity:0;\n  transition:opacity .2s;\n  pointer-events:none;\n  z-index:11\n}\n.shadow-bottom_3UMg3,.shadow-top_36mCx{\n  right:0;\n  left:0;\n  height:.8em;\n  border-top-right-radius:0;\n  border-top-left-radius:0;\n  background-image:linear-gradient(rgba(110,102,218,.05),hsla(0,0%,100%,0));\n  z-index:11\n}\n.shadow-top_36mCx{\n  top:0\n}\n.shadow-bottom_3UMg3{\n  bottom:0;\n  transform:rotate(180deg)\n}\n.shadow-left_1DAVm,.shadow-right_1mwbi{\n  top:0;\n  bottom:0;\n  width:.2em;\n  border-top-left-radius:0;\n  border-bottom-left-radius:0;\n  background-image:linear-gradient(90deg,rgba(110,102,218,.1),hsla(0,0%,100%,0));\n  z-index:11\n}\n.shadow-right_1mwbi{\n  right:0;\n  transform:rotate(180deg)\n}\n.shadow-left_1DAVm{\n  left:0\n}\n.is-active_38TI7{\n  opacity:1\n}",""]),o.locals={wrap:"wrap_2Uv_z","scroll-container":"scroll-container_1Jkja","shadow-bottom":"shadow-bottom_3UMg3","shadow-left":"shadow-left_1DAVm","shadow-right":"shadow-right_1mwbi","shadow-top":"shadow-top_36mCx","is-active":"is-active_38TI7"},e.exports=o},394:function(e,t,n){var content=n(463);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("67e5fec9",content,!0,{sourceMap:!1})},412:function(e,t,n){var o=n(4),r=n(242).values;o({target:"Object",stat:!0},{values:function(e){return r(e)}})},430:function(e,t,n){"use strict";n.r(t);n(56);var o=n(2).default.extend({props:["image","value"],data:function(){return{hovering:!1,selected:this.value}},watch:{selected:function(e,t){this.$emit("input",e)}},computed:{imgSrc:function(){var e=this.$store.state.swink.swink.metadata.id;return"".concat(this.$config.apiPath,"/v0/swink/").concat(e,"/images/").concat(this.image,"?format=thumb")}}}),r=n(75),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"max-h-full p-1 inline-block flex-shrink-0 relative",on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[n("div",{staticClass:"\n      absolute\n      top-0\n      left-0\n      right-0\n      bottom-0\n      bg-indigo-100\n      transition\n      pointer-events-none\n    ",class:{"opacity-50":e.value,"opacity-0":!e.value}}),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.hovering||e.value,expression:"hovering || value"},{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"top-2 right-2 rounded text-indigo-600 absolute cursor-pointer",class:{"opacity-75":!e.value},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{change:function(t){var n=e.selected,o=t.target,r=!!o.checked;if(Array.isArray(n)){var l=e._i(n,null);o.checked?l<0&&(e.selected=n.concat([null])):l>-1&&(e.selected=n.slice(0,l).concat(n.slice(l+1)))}else e.selected=r}}}),e._v(" "),n("div",[n("img",{staticClass:"max-h-full w-auto",attrs:{src:e.imgSrc}})])])}),[],!1,null,null,null);t.default=component.exports},462:function(e,t,n){"use strict";n(394)},463:function(e,t,n){var o=n(64)((function(i){return i[1]}));o.push([e.i,".swinkImages .el-upload{\n  display:block;\n  height:10rem;\n  width:10rem\n}\n.swinkImages .el-upload-dragger{\n  width:100%;\n  height:100%;\n  display:flex;\n  flex-direction:column;\n  align-content:center;\n  align-items:center;\n  justify-content:center;\n  border-radius:0px;\n  border-style:none;\n  background-color:transparent\n}\n.swinkImages .el-upload-dragger:hover{\n  --tw-bg-opacity:1;\n  background-color:rgba(255, 255, 255, var(--tw-bg-opacity))\n}\n.swinkImages .el-upload-dragger{\n  padding:0.25rem\n}\n.swinkImages .el-icon-upload{\n  margin:0\n}",""]),o.locals={},e.exports=o},492:function(e,t,n){"use strict";n.r(t);n(55),n(35),n(67),n(20),n(76);var o=n(38),r=n(10),l=n(12),c=(n(56),n(50),n(412),n(30),n(243),n(66),n(2)),d=n(367),h=n(83),f=n(430),m=n(357);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=c.default.extend({components:{ScrollShadow:d.default,SwinkImage:f.default,TransitionExpand:m.default},data:function(){return{headers:{},selected:{},deleting:!1}},methods:{select:function(e,t){c.default.set(this.selected,e,t)},getHeaders:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.auth.currentUser.getIdToken();case 2:n=t.sent,e.headers={Authorization:"Bearer ".concat(n)};case 4:case"end":return t.stop()}}),t)})))()},refreshImages:function(e){e&&e.imageId&&this.$store.commit("swink/addImageIds",[e.imageId])},deleteSelected:function(){this.deleting=!0,this.$store.dispatch("swink/deleteImages",this.selectedImageIds)}},watch:{images:function(e,t){this.deleting=!1,c.default.set(this,"selected",{})}},computed:w(w({},Object(h.c)({type:function(e){return e.swink.swink.tag.redirect?"link":"data"},images:function(e){return e.swink.swink.tag.images}})),{},{uploadUrl:function(){var e=this.$store.state.swink.swink.metadata.id;return"".concat(this.$config.apiPath,"/function/swink/").concat(e,"/image")},hasSelection:function(){return this.selectionCount>0},selectionCount:function(){return Object.values(this.selected).filter((function(e){return e})).length},selectedImageIds:function(){return Object.entries(this.selected).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return n}))},deleteButtonText:function(){var e=this.selectionCount;return this.deleting?"Deleting ".concat(e," image").concat(e>1?"s":"","..."):"Delete ".concat(e," image").concat(e>1?"s":"")}})}),x=(n(462),n(75)),component=Object(x.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swinkImages"},[n("scroll-shadow",{staticClass:"transition mb-2",class:{"hover:bg-gray-100":"data"===e.type,"bg-gray-200":"data"!==e.type}},[n("div",{staticClass:"flex flex-row h-40"},[n("el-upload",{attrs:{drag:"",disabled:"data"!==e.type,action:e.uploadUrl,"before-upload":e.getHeaders,headers:e.headers,"on-success":e.refreshImages,accept:"image/png, image/jpeg","show-file-list":!1}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text m-2"},[n("p",[e._v("\n            Drop image here or\n            "),n("em",[e._v("click to upload.")]),n("br")])])]),e._v(" "),e._l(e.images,(function(image){return n("swink-image",{key:image,attrs:{image:image,value:e.selected[image]},on:{input:function(t){return e.select(image,t)}}})}))],2)]),e._v(" "),n("transition-expand",[e.hasSelection?n("div",{staticClass:"flex flex-row items-center justify-center"},[n("button",{staticClass:"\n          flex flex-row\n          items-center\n          px-2\n          py-1\n          bg-red-100\n          hover:bg-red-200 hover:text-red-800\n          disabled:bg-red-100 disabled:text-red-800\n          transition\n          text-red-700\n          mb-2\n        ",attrs:{disabled:e.deleting},on:{click:e.deleteSelected}},[n("svg",{staticClass:"h-4 w-4 mr-1 mb-px",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"}})]),e._v("\n        "+e._s(e.deleteButtonText)+"\n      ")])]):e._e()])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ScrollShadow:n(367).default,TransitionExpand:n(357).default})}}]);